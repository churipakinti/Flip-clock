<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Flip Clock</title>
<style>
  :root { 
    --bg:#0f1115; 
    --card:#1a1f2b; 
    --fg:#eaf0ff; 
    --accent:#3ea6ff; 
    --shadow:rgba(0,0,0,.5); 
  }
  * { box-sizing: border-box; }
  body {
    margin: 0; 
    min-height: 100vh; 
    display: grid; 
    place-items: center;
    background: radial-gradient(1000px 600px at 50% 20%, #141826, #0f1115);
    color: var(--fg); 
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  }

  .clock { 
    display: flex; 
    gap: clamp(.6rem, 2vmin, 1.6rem); 
    align-items: center;
    flex-wrap: wrap; 
    justify-content: center;
  }
  .sep { 
    font-weight: 700; 
    font-size: clamp(18px, 4vw, 28px); 
    opacity: .75; 
    margin: 0 .3rem; 
  }
  .group { 
    display: flex; 
    gap: clamp(.3rem, 1.2vmin, .8rem); 
  }

  /* --- Tarjetas din√°micas --- */
  .digit {
    position: relative;
    width:  clamp(450px, 14vmin, 400px);
    height: clamp(700px, 20vmin, 1000px);
    perspective: 1200px;
  }
  .card {
    position: absolute;
    inset: 0;
    background: linear-gradient(#222a3a, var(--card));
    border-radius: 16px;
    box-shadow: 0 16px 40px var(--shadow), inset 0 -2px 0 rgba(255,255,255,.08);
    display: grid;
    grid-template-rows: 1fr 1fr;
    overflow: hidden;
  }
  .top, .bottom, .flip-front, .flip-back {
    display: grid;
    place-items: center;
    font-weight: 800;
    font-size: clamp(480px, 12vmin, 160px);
    letter-spacing: .01em;
  }
  .top, .flip-front { border-bottom: 1px solid rgba(255,255,255,.08); }
  .bottom, .flip-back  { border-top: 1px solid rgba(0,0,0,.35); }
  .top, .flip-front { background: linear-gradient(#2a3246, #1e2433); }
  .bottom, .flip-back { background: linear-gradient(#1c2231, #171c29); }

  /* flipping piece */
  .flipper {
    position: absolute; inset: 0; pointer-events: none; perspective: 1000px;
  }
  .flip-front, .flip-back {
    position: absolute; left: 0; right: 0; height: 50%;
    backface-visibility: hidden; transform-origin: center bottom;
  }
  .flip-front { top: 0; border-radius: 16px 16px 0 0; }
  .flip-back  { bottom: 0; transform-origin: center top; border-radius: 0 0 16px 16px; }
  .animate .flip-front {
    animation: flipFront 420ms cubic-bezier(.19,.64,.34,1.17);
  }
  .animate .flip-back {
    animation: flipBack 420ms cubic-bezier(.19,.64,.34,1.17);
  }
  @keyframes flipFront {
    0% { transform: rotateX(0deg); }
    100% { transform: rotateX(-90deg); }
  }
  @keyframes flipBack {
    0% { transform: rotateX(90deg); }
    100% { transform: rotateX(0deg); }
  }

  .label { 
    text-align: center; 
    font-size: clamp(.65rem, 1.8vmin, .9rem); 
    opacity: .7; 
    margin-top: .35rem; 
    font-weight: 600; 
  }
  .stack { display: grid; justify-items: center; }
</style>
</head>
<body>
  <div class="clock" id="clock">
    <div class="stack">
      <div class="group" data-label="HOURS">
        <div class="digit" data-value="0"></div>
        <div class="digit" data-value="0"></div>
      </div>
      <div class="label">HOURS</div>
    </div>
    <div class="sep">:</div>
    <div class="stack">
      <div class="group" data-label="MINUTES">
        <div class="digit" data-value="0"></div>
        <div class="digit" data-value="0"></div>
      </div>
      <div class="label">MINUTES</div>
    </div>
    <div class="sep">:</div>
    <div class="stack">
      <div class="group" data-label="SECONDS">
        <div class="digit" data-value="0"></div>
        <div class="digit" data-value="0"></div>
      </div>
      <div class="label">SECONDS</div>
    </div>
  </div>

<script>
  function buildCard(value) {
    const card = document.createElement('div');
    card.className = 'card';
    const top = document.createElement('div'); top.className = 'top'; top.textContent = value;
    const bottom = document.createElement('div'); bottom.className = 'bottom'; bottom.textContent = value;
    card.append(top, bottom);
    return card;
  }

  function flipTo(digitEl, newValue) {
    const oldValue = digitEl.getAttribute('data-value');
    if (String(oldValue) === String(newValue)) return;

    digitEl.innerHTML = '';
    digitEl.appendChild(buildCard(oldValue));

    const flipper = document.createElement('div');
    flipper.className = 'flipper animate';

    const front = document.createElement('div');
    front.className = 'flip-front';
    front.textContent = oldValue;

    const back = document.createElement('div');
    back.className = 'flip-back';
    back.textContent = newValue;

    flipper.append(front, back);
    digitEl.appendChild(flipper);

    flipper.addEventListener('animationend', () => {
      digitEl.innerHTML = '';
      digitEl.appendChild(buildCard(newValue));
      digitEl.setAttribute('data-value', newValue);
    }, { once: true });
  }

  document.querySelectorAll('.digit').forEach(d => {
    d.appendChild(buildCard('0'));
  });

  function pad2(n) { return n < 10 ? '0' + n : '' + n; }

  function tick() {
    const now = new Date();
    const h = pad2(now.getHours());
    const m = pad2(now.getMinutes());
    const s = pad2(now.getSeconds());

    const groups = document.querySelectorAll('.group');
    const sets = [h, m, s];

    sets.forEach((str, gi) => {
      const digits = groups[gi].querySelectorAll('.digit');
      flipTo(digits[0], str[0]);
      flipTo(digits[1], str[1]);
    });
  }

  tick();
  setInterval(tick, 1000);
</script>
</body>
</html>
